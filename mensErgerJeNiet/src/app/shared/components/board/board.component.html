<div *ngIf="board?.players.length > 0; else noPlayers">
<!--  the whole game + board-->

  <svg *ngIf="board != null"
       width = "75%"
       height="700px"

       [attr.viewBox]='"-10 -10 " + 10*(viewPortDimension+2) + " " + 10*(viewPortDimension+2)'
       preserveAspectRatio="xMidYMin">


<!--Pawn object?-->
    <symbol id="pawnSymbol" width="12" height="20" x="-6" y="-15"
            stroke-width="1" fill="solid">
      <ellipse cx="6" cy="13" rx="4" ry="6" opacity="0.9"/>
      <circle cx="6" cy="6" r="3" opacity="0.9"/>
    </symbol>

    <!-- this is the board + postion/coordinates (compelete board)-->
    <circle *ngFor="let position of positions; let i = index" [id]="'pos-'+i"
            [attr.cx]="10*position.x" [attr.cy]="10*position.y" r="5"
            stroke-width="2" stroke="black" fill="white"
            (click)="onPositionClick(position)" />



      <!--Winning Path-->
<ng-container>
    <!--BLACKDOT-->
    <circle
      cx="70" cy="70"   r="5"
      fill="purple"
      stroke="black"
      stroke-width="2"
    />

    <!--RED-->

    <!--RED // GREY -->
    <circle
      cx="20" cy="70"   r="5"
      fill="grey"
      stroke="black"
      stroke-width="2"
    />
    <!--END--RED // GREY -->

<!--pos# 49 - first RED-->
    <circle
      cx="30" cy="70"   r="5"
      fill="red"
      stroke="black"
      stroke-width="2"
    />
  <!--pos# 50 - first RED-->
    <circle
      cx="40" cy="70"   r="5"
      fill="red"
      stroke="black"
      stroke-width="2"
    />
  <!--pos# 51 - first RED-->
    <circle
      cx="50" cy="70"   r="5"
      fill="red"
      stroke="black"
      stroke-width="2"
    />
  <!--pos# 52 - first RED-->
    <circle
      cx="60" cy="70"   r="5"
      fill="red"
      stroke="black"
      stroke-width="2"
    />


    <!--GREEN-->

    <!--GREEN // GREY-->
    <circle
      cx="120" cy="70"   r="5"
      fill="grey"
      stroke="black"
      stroke-width="2"
    />
    <!--GREEN // GREY-->

    <circle
      cx="110" cy="70"   r="5"
      fill="green"
      stroke="black"
      stroke-width="2"
    />

    <circle
      cx="100" cy="70"   r="5"
      fill="green"
      stroke="black"
      stroke-width="2"
    />

    <circle
      cx="90" cy="70"   r="5"
      fill="green"
      stroke="black"
      stroke-width="2"
    />

    <circle
      cx="80" cy="70"   r="5"
      fill="green"
      stroke="black"
      stroke-width="2"
    />

    <!--Yellow-->

    <!--YELLOW // GREY-->
    <circle
      cx="70" cy="120"   r="5"
      fill="grey"
      stroke="black"
      stroke-width="2"
    />
    <!--YELLOW // GREY-->

    <circle
      cx="70" cy="110"   r="5"
      fill="yellow"
      stroke="black"
      stroke-width="2"
    />

    <circle
      cx="70" cy="100"   r="5"
      fill="yellow"
      stroke="black"
      stroke-width="2"
    />

    <circle
      cx="70" cy="90"   r="5"
      fill="yellow"
      stroke="black"
      stroke-width="2"
    />

    <circle
      cx="70" cy="80"   r="5"
      fill="yellow"
      stroke="black"
      stroke-width="2"
    />


    <!--BLUE-->

    <!--BLUE // GREY-->
    <circle
      cx="70" cy="20"   r="5"
      fill="grey"
      stroke="black"
      stroke-width="2"
    />
    <!--BLUE // GREY-->

    <circle
      cx="70" cy="30"   r="5"
      fill="blue"
      stroke="black"
      stroke-width="2"
    />

    <circle
      cx="70" cy="40"   r="5"
      fill="blue"
      stroke="black"
      stroke-width="2"
    />

    <circle
      cx="70" cy="50"   r="5"
      fill="blue"
      stroke="black"
      stroke-width="2"
    />

    <circle
      cx="70" cy="60"   r="5"
      fill="blue"
      stroke="black"
      stroke-width="2"
    />
</ng-container>
    <!--End Winning Path-->


    <!-- home postion    -->
    <ng-container *ngFor="let player of board.players"> <!--Voor alle spelers dus-->

      <!--Startpositions-->
      <circle [attr.cx]="10*positions[player.startPosition].x" [attr.cy]="10*positions[player.startPosition].y" r="3"
              stroke-width="0" stroke="none" [attr.fill]="player.colorString" />


      <ng-container *ngFor="let pawn of player.thePawns">
        <!-- creates a pawn object and moves it on the board-->
        <use *ngIf="pawn.currentPositionIndex >= 0"
             xlink:href="#pawnSymbol"
             [attr.x]="10*positions[pawn.currentPositionIndex].x"
             [attr.y]="10*positions[pawn.currentPositionIndex].y"
             width="10"
             stroke="black" [attr.fill]="player.colorString"
             (click)="onPawnClick(pawn)"
        />
      </ng-container>




      <!--SPAWNS-->

  <ng-container *ngIf = " this.player.colorString == 'RED' ">

    <circle *ngIf="this.player.numFreePawns == 4"
              cx="10" cy="25"   r="5"
            stroke-width="2" stroke="black" fill="red" opacity="100"/>

    <circle *ngIf="this.player.numFreePawns < 4"
              cx="10" cy="25"   r="5"
              stroke-width="2" stroke="black" fill="red" opacity="0"/>

    <circle *ngIf="this.player.numFreePawns >= 3"
      cx="20" cy="35"   r="5"
      stroke-width="2" stroke="black" fill="red" opacity="100"/>

    <circle *ngIf="this.player.numFreePawns < 3"
            cx="20" cy="35"   r="5"
            stroke-width="2" stroke="black" fill="red" opacity="0"/>

    <circle *ngIf="this.player.numFreePawns >=2"
      cx="30" cy="35"   r="5"
      stroke-width="2" stroke="black" fill="red" opacity="100"/>

    <circle *ngIf="this.player.numFreePawns < 2"
            cx="30" cy="35"   r="5"
            stroke-width="2" stroke="black" fill="red" opacity="0"/>

    <circle *ngIf="this.player.numFreePawns >=1"
      cx="40" cy="25"   r="5"
      stroke-width="2" stroke="black" fill="red"/>

    <circle *ngIf="this.player.numFreePawns < 1"
            cx="40" cy="25"   r="5"
            stroke-width="2" stroke="black" fill="red" opacity="0"/>

    <symbol id="spawnPawnRedOne" >
      <ellipse cx="10" cy="20" rx="4" ry="6" opacity="100"
               stroke="black" [attr.fill]="player.colorString"/>
      <circle cx="10" cy="14" r="3" opacity="100"
              stroke="black" [attr.fill]="player.colorString"/>
    </symbol>

    <symbol id="spawnPawnRedTwo" >
      <ellipse cx="20" cy="30" rx="4" ry="6" opacity="100"
               stroke="black" [attr.fill]="player.colorString"/>
      <circle cx="20" cy="24" r="3" opacity="100"
              stroke="black" [attr.fill]="player.colorString"/>
    </symbol>

    <symbol id="spawnPawnRedThree" >
      <ellipse cx="30" cy="30" rx="4" ry="6" opacity="100"
               stroke="black" [attr.fill]="player.colorString"/>
      <circle cx="30" cy="24" r="3" opacity="100"
              stroke="black" [attr.fill]="player.colorString"/>
    </symbol>

    <symbol id="spawnPawnRedFour" >
      <ellipse cx="40" cy="20" rx="4" ry="6" opacity="100"
               stroke="black" [attr.fill]="player.colorString"/>
      <circle cx="40" cy="14" r="3" opacity="100"
              stroke="black" [attr.fill]="player.colorString"/>
    </symbol>

    <use *ngIf="this.player.numFreePawns == 4"
         xlink:href="#spawnPawnRedOne"/>
    <use *ngIf="this.player.numFreePawns == 4"
         xlink:href="#spawnPawnRedTwo"/>
    <use *ngIf="this.player.numFreePawns == 4"
         xlink:href="#spawnPawnRedThree"/>
    <use *ngIf="this.player.numFreePawns == 4"
         xlink:href="#spawnPawnRedFour"/>
    <use *ngIf="this.player.numFreePawns == 3"
         xlink:href="#spawnPawnRedTwo"/>
    <use *ngIf="this.player.numFreePawns == 3"
         xlink:href="#spawnPawnRedThree"/>
    <use *ngIf="this.player.numFreePawns == 3"
         xlink:href="#spawnPawnRedFour"/>
    <use *ngIf="this.player.numFreePawns == 2"
         xlink:href="#spawnPawnRedThree"/>
    <use *ngIf="this.player.numFreePawns == 2"
         xlink:href="#spawnPawnRedFour"/>
    <use *ngIf="this.player.numFreePawns == 1"
         xlink:href="#spawnPawnRedFour"/>

  </ng-container>


      <ng-container *ngIf = " this.player.colorString == 'YELLOW' ">

        <circle *ngIf="this.player.numFreePawns == 4"
          cx="10" cy="115"   r="5"
          stroke-width="2" stroke="black" fill="yellow" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns <4"
                cx="10" cy="115"   r="5"
                stroke-width="2" stroke="black" fill="yellow" opacity="0"/>

        <circle *ngIf="this.player.numFreePawns >= 3"
          cx="20" cy="105"   r="5"
          stroke-width="2" stroke="black" fill="yellow" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 3"
                cx="20" cy="105"   r="5"
                stroke-width="2" stroke="black" fill="yellow" opacity="0"/>

        <circle *ngIf="this.player.numFreePawns >=2"
          cx="30" cy="105"   r="5"
          stroke-width="2" stroke="black" fill="yellow" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 2"
                cx="30" cy="105"   r="5"
                stroke-width="2" stroke="black" fill="yellow" opacity="0"/>

        <circle *ngIf="this.player.numFreePawns >=1"
          cx="40" cy="115"   r="5"
          stroke-width="2" stroke="black" fill="yellow" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 1"
                cx="40" cy="115"   r="5"
                stroke-width="2" stroke="black" fill="yellow" opacity="0"/>

        <symbol id="spawnPawnYellowOne" >
          <ellipse cx="10" cy="110" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="10" cy="104" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <symbol id="spawnPawnYellowTwo" >
          <ellipse cx="20" cy="100" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="20" cy="94" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <symbol id="spawnPawnYellowThree" >
          <ellipse cx="30" cy="100" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="30" cy="94" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <symbol id="spawnPawnYellowFour" >
          <ellipse cx="40" cy="110" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="40" cy="104" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnYellowOne"/>
        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnYellowTwo"/>
        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnYellowThree"/>
        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnYellowFour"/>
        <use *ngIf="this.player.numFreePawns == 3"
             xlink:href="#spawnPawnYellowTwo"/>
        <use *ngIf="this.player.numFreePawns == 3"
             xlink:href="#spawnPawnYellowThree"/>
        <use *ngIf="this.player.numFreePawns == 3"
             xlink:href="#spawnPawnYellowFour"/>
        <use *ngIf="this.player.numFreePawns == 2"
             xlink:href="#spawnPawnYellowThree"/>
        <use *ngIf="this.player.numFreePawns == 2"
             xlink:href="#spawnPawnYellowFour"/>
        <use *ngIf="this.player.numFreePawns == 1"
             xlink:href="#spawnPawnYellowFour"/>

      </ng-container>

      <ng-container *ngIf = " this.player.colorString == 'BLUE' ">

        <circle *ngIf="this.player.numFreePawns == 4"
          cx="100" cy="25"   r="5"
          stroke-width="2" stroke="black" fill="blue" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 4"
        cx="100" cy="25"   r="5"
        stroke-width="2" stroke="black" fill="blue" opacity="0"/>

        <circle *ngIf="this.player.numFreePawns >= 3"
          cx="110" cy="35"   r="5"
          stroke-width="2" stroke="black" fill="blue" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 3"
          cx="110" cy="35"   r="5"
          stroke-width="2" stroke="black" fill="blue" opacity="0"/>

        <circle *ngIf="this.player.numFreePawns >= 2"
          cx="120" cy="35"   r="5"
          stroke-width="2" stroke="black" fill="blue" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 2"
          cx="120" cy="35"   r="5"
          stroke-width="2" stroke="black" fill="blue" opacity="0"/>

        <circle *ngIf="this.player.numFreePawns >= 1"
          cx="130" cy="25"   r="5"
          stroke-width="2" stroke="black" fill="blue" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 1"
          cx="130" cy="25"   r="5"
          stroke-width="2" stroke="black" fill="blue" opacity="0"/>

        <symbol id="spawnPawnBlueOne" >
          <ellipse cx="100" cy="20" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="100" cy="14" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <symbol id="spawnPawnBlueTwo" >
          <ellipse cx="110" cy="30" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="110" cy="24" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <symbol id="spawnPawnBlueThree" >
          <ellipse cx="120" cy="30" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="120" cy="24" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <symbol id="spawnPawnBlueFour" >
          <ellipse cx="130" cy="20" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="130" cy="14" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnBlueOne"/>
        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnBlueTwo"/>
        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnBlueThree"/>
        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnBlueFour"/>
        <use *ngIf="this.player.numFreePawns == 3"
             xlink:href="#spawnPawnBlueTwo"/>
        <use *ngIf="this.player.numFreePawns == 3"
             xlink:href="#spawnPawnBlueThree"/>
        <use *ngIf="this.player.numFreePawns == 3"
             xlink:href="#spawnPawnBlueFour"/>
        <use *ngIf="this.player.numFreePawns == 2"
             xlink:href="#spawnPawnBlueThree"/>
        <use *ngIf="this.player.numFreePawns == 2"
             xlink:href="#spawnPawnBlueFour"/>
        <use *ngIf="this.player.numFreePawns == 1"
             xlink:href="#spawnPawnBlueFour"/>

      </ng-container>

      <ng-container *ngIf = " this.player.colorString == 'GREEN' ">

        <circle *ngIf="this.player.numFreePawns == 4"
          cx="100" cy="115"   r="5"
          stroke-width="2" stroke="black" fill="green" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 4"
          cx="100" cy="115"   r="5"
          stroke-width="2" stroke="black" fill="green" opacity="0"/>

        <circle *ngIf="this.player.numFreePawns >= 3"
          cx="110" cy="105"   r="5"
          stroke-width="2" stroke="black" fill="green" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 3"
          cx="110" cy="105"   r="5"
          stroke-width="2" stroke="black" fill="green" opacity="0"/>

        <circle *ngIf="this.player.numFreePawns >=2"
          cx="120" cy="105"   r="5"
          stroke-width="2" stroke="black" fill="green" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 2"
                cx="120" cy="105"   r="5"
                stroke-width="2" stroke="black" fill="green" opacity="0"/>

        <circle *ngIf="this.player.numFreePawns >=1"
          cx="130" cy="115"   r="5"
          stroke-width="2" stroke="black" fill="green" opacity="100"/>

        <circle *ngIf="this.player.numFreePawns < 1"
                cx="130" cy="115"   r="5"
                stroke-width="2" stroke="black" fill="green" opacity="0"/>

        <symbol id="spawnPawnGreenOne" >
          <ellipse cx="100" cy="110" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="100" cy="104" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <symbol id="spawnPawnGreenTwo" >
          <ellipse cx="110" cy="100" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="110" cy="94" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <symbol id="spawnPawnGreenThree" >
          <ellipse cx="120" cy="100" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="120" cy="94" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <symbol id="spawnPawnGreenFour" >
          <ellipse cx="130" cy="110" rx="4" ry="6" opacity="100"
                   stroke="black" [attr.fill]="player.colorString"/>
          <circle cx="130" cy="104" r="3" opacity="100"
                  stroke="black" [attr.fill]="player.colorString"/>
        </symbol>

        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnGreenOne"/>
        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnGreenTwo"/>
        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnGreenThree"/>
        <use *ngIf="this.player.numFreePawns == 4"
             xlink:href="#spawnPawnGreenFour"/>
        <use *ngIf="this.player.numFreePawns == 3"
             xlink:href="#spawnPawnGreenTwo"/>
        <use *ngIf="this.player.numFreePawns == 3"
             xlink:href="#spawnPawnGreenThree"/>
        <use *ngIf="this.player.numFreePawns == 3"
             xlink:href="#spawnPawnGreenFour"/>
        <use *ngIf="this.player.numFreePawns == 2"
             xlink:href="#spawnPawnGreenThree"/>
        <use *ngIf="this.player.numFreePawns == 2"
             xlink:href="#spawnPawnGreenFour"/>
        <use *ngIf="this.player.numFreePawns == 1"
             xlink:href="#spawnPawnGreenFour"/>

      </ng-container>


    </ng-container>
  </svg>

  <div class="rollDiceInfo">
    <h3>{{previousTurnMessage}}</h3>
    <h2>Player <span [ngClass]="'name-'+playerWithTurn.colorString">{{playerWithTurn.name}}</span> has the turn.</h2>
    <button class="btn btn-primary"[disabled]="board.latestDiceResult > 0  " (click)="onRollDice()">Roll the dice</button>
    <h4 *ngIf="board.latestDiceResult == 0; else moveThePawn">Please roll the dice...</h4>
    <ng-template #moveThePawn>
      <h4>You have rolled {{board.latestDiceResult}}; Please click a pawn to move forward...</h4>
    </ng-template>
  </div>
</div>
<ng-template #noPlayers>
  <p>Select a game with active players</p>
</ng-template>


